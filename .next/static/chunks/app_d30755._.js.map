{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/ppqwqqq/qwq_sites/ppqwqqq.space/app/home/ArticlesGrid.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\n\nconst ArticlesGrid = () => {\n  const [articles, setArticles] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // 每页显示的文章数量\n  const articlesPerPage = 6;\n\n  // 获取文章数据\n  useEffect(() => {\n    const fetchArticles = async () => {\n      try {\n        const response = await fetch('http://localhost:8080/articles');\n        if (!response.ok) {\n          throw new Error('Failed to fetch articles');\n        }\n        const data = await response.json();\n        setArticles(data);\n        setLoading(false);\n      } catch (err: any) {\n        setError(err.message);\n        setLoading(false);\n      }\n    };\n    \n    fetchArticles();\n  }, []);\n\n  // 计算当前页要展示的文章\n  const indexOfLastArticle = currentPage * articlesPerPage;\n  const indexOfFirstArticle = indexOfLastArticle - articlesPerPage;\n  const currentArticles = articles.slice(indexOfFirstArticle, indexOfLastArticle);\n\n  // 计算总页数\n  const totalPages = Math.ceil(articles.length / articlesPerPage);\n\n  // 分页函数\n  const paginate = (pageNumber: number) => setCurrentPage(pageNumber);\n\n  // 加载中的提示或错误处理\n  if (loading) return <p>加载中...</p>;\n  if (error) return <p>错误: {error}</p>;\n\n  return (\n    <div>\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8\">\n        {currentArticles.map((article: any) => (\n          <div key={article.id} className=\"card shadow-xl bg-base-100 hover:bg-gray-100 transition-all duration-300\">\n            <div className=\"card-body\">\n              <h2 className=\"card-title text-xl font-bold\">{article.title}</h2>\n              <p className=\"text-sm text-gray-500\">{article.date}</p>\n              <p className=\"mt-4\">{article.description}</p>\n              <p className=\"mt-2 text-sm text-gray-600\">Written by {article.author}</p>\n              <div className=\"card-actions justify-end\">\n                {/* \"Read More\" 按钮，链接到文章详细页面 */}\n                <Link href={`/articles/${article.id}`} className=\"btn btn-primary\">\n                  Read More\n                </Link>\n              </div>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* 分页按钮 */}\n      <div className=\"flex justify-center mt-8\">\n        <div className=\"btn-group\">\n          {/* Previous Button */}\n          <button\n            className={`btn ${currentPage === 1 ? 'btn-disabled' : ''}`}\n            onClick={() => paginate(currentPage - 1)}\n            disabled={currentPage === 1}\n          >\n            Previous\n          </button>\n\n          {/* 页面数字 */}\n          {Array.from({ length: totalPages }).map((_, index) => (\n            <button\n              key={index}\n              className={`btn ${currentPage === index + 1 ? 'btn-active' : ''}`}\n              onClick={() => paginate(index + 1)}\n            >\n              {index + 1}\n            </button>\n          ))}\n\n          {/* Next Button */}\n          <button\n            className={`btn ${currentPage === totalPages ? 'btn-disabled' : ''}`}\n            onClick={() => paginate(currentPage + 1)}\n            disabled={currentPage === totalPages}\n          >\n            Next\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ArticlesGrid;\n"],"names":[],"mappings":";;;;AAEA;AACA;;;AAHA;;;AAKA,MAAM,eAAe;;IACnB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,YAAY;IACZ,MAAM,kBAAkB;IAExB,SAAS;IACT,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM;wDAAgB;oBACpB,IAAI;wBACF,MAAM,WAAW,MAAM,MAAM;wBAC7B,IAAI,CAAC,SAAS,EAAE,EAAE;4BAChB,MAAM,IAAI,MAAM;wBAClB;wBACA,MAAM,OAAO,MAAM,SAAS,IAAI;wBAChC,YAAY;wBACZ,WAAW;oBACb,EAAE,OAAO,KAAU;wBACjB,SAAS,IAAI,OAAO;wBACpB,WAAW;oBACb;gBACF;;YAEA;QACF;iCAAG,EAAE;IAEL,cAAc;IACd,MAAM,qBAAqB,cAAc;IACzC,MAAM,sBAAsB,qBAAqB;IACjD,MAAM,kBAAkB,SAAS,KAAK,CAAC,qBAAqB;IAE5D,QAAQ;IACR,MAAM,aAAa,KAAK,IAAI,CAAC,SAAS,MAAM,GAAG;IAE/C,OAAO;IACP,MAAM,WAAW,CAAC,aAAuB,eAAe;IAExD,cAAc;IACd,IAAI,SAAS,qBAAO,6LAAC;kBAAE;;;;;;IACvB,IAAI,OAAO,qBAAO,6LAAC;;YAAE;YAAK;;;;;;;IAE1B,qBACE,6LAAC;;0BACC,6LAAC;gBAAI,WAAU;0BACZ,gBAAgB,GAAG,CAAC,CAAC,wBACpB,6LAAC;wBAAqB,WAAU;kCAC9B,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAAgC,QAAQ,KAAK;;;;;;8CAC3D,6LAAC;oCAAE,WAAU;8CAAyB,QAAQ,IAAI;;;;;;8CAClD,6LAAC;oCAAE,WAAU;8CAAQ,QAAQ,WAAW;;;;;;8CACxC,6LAAC;oCAAE,WAAU;;wCAA6B;wCAAY,QAAQ,MAAM;;;;;;;8CACpE,6LAAC;oCAAI,WAAU;8CAEb,cAAA,6LAAC,+JAAA,CAAA,UAAI;wCAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,EAAE,EAAE;wCAAE,WAAU;kDAAkB;;;;;;;;;;;;;;;;;uBAR/D,QAAQ,EAAE;;;;;;;;;;0BAkBxB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BACC,WAAW,CAAC,IAAI,EAAE,gBAAgB,IAAI,iBAAiB,IAAI;4BAC3D,SAAS,IAAM,SAAS,cAAc;4BACtC,UAAU,gBAAgB;sCAC3B;;;;;;wBAKA,MAAM,IAAI,CAAC;4BAAE,QAAQ;wBAAW,GAAG,GAAG,CAAC,CAAC,GAAG,sBAC1C,6LAAC;gCAEC,WAAW,CAAC,IAAI,EAAE,gBAAgB,QAAQ,IAAI,eAAe,IAAI;gCACjE,SAAS,IAAM,SAAS,QAAQ;0CAE/B,QAAQ;+BAJJ;;;;;sCAST,6LAAC;4BACC,WAAW,CAAC,IAAI,EAAE,gBAAgB,aAAa,iBAAiB,IAAI;4BACpE,SAAS,IAAM,SAAS,cAAc;4BACtC,UAAU,gBAAgB;sCAC3B;;;;;;;;;;;;;;;;;;;;;;;AAOX;GApGM;KAAA;uCAsGS"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}